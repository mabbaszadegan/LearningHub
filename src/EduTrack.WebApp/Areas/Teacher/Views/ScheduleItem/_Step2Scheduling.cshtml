@model EduTrack.Application.Common.Models.ScheduleItems.CreateScheduleItemRequest

<div class="form-step" data-step="schedule">
    <div class="step-header">
        <div class="step-icon">
            <i class="fas fa-calendar-alt"></i>
        </div>
        <div class="step-info">
            <h3 class="step-title">زمان‌بندی و امتیاز</h3>
            <p class="step-description">تاریخ شروع، مهلت تحویل و امتیاز آیتم را تعیین کنید</p>
        </div>
    </div>
    
    <div class="step-content">
        <!-- Required Items Section -->
        <div class="required-items-section">
            <div class="section-header">
                <h4 class="section-title">
                    <i class="fas fa-asterisk"></i>
                    <span>آیتم‌های اجباری</span>
                </h4>
            </div>
            
            <div class="required-items-grid">
                <!-- Start Date -->
                <div class="required-item">
                    <div class="item-header">
                        <label asp-for="StartDate" class="form-label-modern">
                            <i class="fas fa-play"></i>
                            <span>تاریخ شروع</span>
                            <span class="required-indicator">*</span>
                        </label>
                    </div>
                    
                    <div class="datetime-input-group">
                        <div class="date-input-wrapper">
                            <input type="text" id="PersianStartDate" class="form-input-modern persian-datepicker" 
                                   placeholder="انتخاب تاریخ" data-target="StartDate" name="PersianStartDate" />
                            <input asp-for="StartDate" type="hidden" id="StartDate" name="StartDate" />
                        </div>
                        <div class="time-input-wrapper">
                            <input type="time" id="StartTime" class="form-input-modern" />
                        </div>
                    </div>
                    
                    <div class="date-presets">
                        <button type="button" class="date-preset-btn" data-preset="now">
                            <i class="fas fa-clock"></i>
                            <span>الان</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="tomorrow">
                            <i class="fas fa-calendar-day"></i>
                            <span>فردا</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="2days">
                            <i class="fas fa-calendar-plus"></i>
                            <span>دو روز بعد</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="nextweek">
                            <i class="fas fa-calendar-week"></i>
                            <span>هفته آینده</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="2weeks">
                            <i class="fas fa-calendar-alt"></i>
                            <span>دو هفته آینده</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="nextmonth">
                            <i class="fas fa-calendar"></i>
                            <span>ماه آینده</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="2months">
                            <i class="fas fa-calendar-check"></i>
                            <span>دو ماه آینده</span>
                        </button>
                    </div>
                    
                    <span asp-validation-for="StartDate" class="validation-error-modern"></span>
                    <div class="input-hint">زمانی که دانش‌آموزان می‌توانند شروع به کار کنند</div>
                </div>
                
                <!-- Due Date -->
                <div class="required-item">
                    <div class="item-header">
                        <label asp-for="DueDate" class="form-label-modern">
                            <i class="fas fa-clock"></i>
                            <span>تاریخ مهلت</span>
                        </label>
                    </div>
                    
                    <div class="datetime-input-group">
                        <div class="date-input-wrapper">
                            <input type="text" id="PersianDueDate" class="form-input-modern persian-datepicker" 
                                   placeholder="انتخاب تاریخ" data-target="DueDate" name="PersianDueDate" />
                            <input asp-for="DueDate" type="hidden" id="DueDate" name="DueDate" />
                        </div>
                        <div class="time-input-wrapper">
                            <input type="time" id="DueTime" class="form-input-modern" />
                        </div>
                    </div>
                    
                    <div class="date-presets">
                        <button type="button" class="date-preset-btn" data-preset="1day">
                            <i class="fas fa-calendar-day"></i>
                            <span>یک روز</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="2days">
                            <i class="fas fa-calendar-plus"></i>
                            <span>دو روز</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="3days">
                            <i class="fas fa-calendar-check"></i>
                            <span>سه روز</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="1week">
                            <i class="fas fa-calendar-week"></i>
                            <span>یک هفته</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="2weeks">
                            <i class="fas fa-calendar-alt"></i>
                            <span>دو هفته</span>
                        </button>
                        <button type="button" class="date-preset-btn" data-preset="1month">
                            <i class="fas fa-calendar"></i>
                            <span>یک ماه</span>
                        </button>
                    </div>
                    
                    <span asp-validation-for="DueDate" class="validation-error-modern"></span>
                    <div class="input-hint">آخرین مهلت تحویل آیتم (اختیاری)</div>
                </div>
                
                <!-- Max Score (Hidden for reminder items) -->
                <div class="required-item" id="maxScoreSection">
                    <div class="item-header">
                        <label asp-for="MaxScore" class="form-label-modern">
                            <i class="fas fa-star"></i>
                            <span>حداکثر امتیاز</span>
                        </label>
                    </div>
                    
                    <div class="score-input-group">
                        <input asp-for="MaxScore" type="number" class="form-input-modern" min="0" max="100" step="0.1" placeholder="0" id="maxScore" />
                        <div class="score-presets">
                            <button type="button" class="score-preset" data-score="10">10</button>
                            <button type="button" class="score-preset" data-score="20">20</button>
                            <button type="button" class="score-preset" data-score="50">50</button>
                            <button type="button" class="score-preset" data-score="100">100</button>
                        </div>
                    </div>
                    
                    <span asp-validation-for="MaxScore" class="validation-error-modern"></span>
                    <div class="input-hint">امتیاز کامل برای این آیتم (0-100)</div>
                </div>
                
                <!-- Is Mandatory -->
                <div class="required-item">
                    <div class="item-header">
                        <label class="form-label-modern">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>اجباری بودن</span>
                        </label>
                    </div>
                    
                    <div class="checkbox-modern">
                        <input asp-for="IsMandatory" type="checkbox" class="form-checkbox-modern" id="isMandatory" />
                        <label for="isMandatory" class="form-checkbox-label-modern">
                            <span class="checkbox-text">آیتم اجباری</span>
                        </label>
                    </div>
                    
                    <span asp-validation-for="IsMandatory" class="validation-error-modern"></span>
                    <div class="input-hint">اگر فعال باشد، دانش‌آموزان باید حتماً این آیتم را انجام دهند</div>
                </div>
            </div>
        </div>

        <div class="duration-calculator" id="durationCalculator" style="display: none;">
            <div class="calculator-header">
                <i class="fas fa-calculator"></i>
                <span>محاسبه مدت زمان</span>
            </div>
            <div class="calculator-content">
                <div class="duration-display">
                    <span class="duration-label">مدت زمان:</span>
                    <span class="duration-value" id="durationValue">-</span>
                </div>
                <div class="duration-hint">مدت زمان بین شروع و مهلت تحویل</div>
            </div>
        </div>
    </div>
</div>
