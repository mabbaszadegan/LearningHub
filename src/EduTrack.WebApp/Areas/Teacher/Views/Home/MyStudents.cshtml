@model List<object>
@{
    ViewData["Title"] = "دانش‌آموزان من";
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="h4 mb-0">دانش‌آموزان من</h2>
    <div class="d-flex gap-2">
        <button class="btn btn-modern-secondary btn-sm">
            <i class="fas fa-download me-1"></i>خروجی Excel
        </button>
        <button class="btn btn-modern-primary btn-sm">
            <i class="fas fa-plus me-1"></i>افزودن دانش‌آموز
        </button>
    </div>
</div>

<!-- Filters -->
<div class="modern-card mb-4">
    <div class="modern-card-body">
        <div class="row">
            <div class="col-md-3 mb-3">
                <label class="form-label">جستجو</label>
                <input type="text" class="form-control" placeholder="نام یا ایمیل دانش‌آموز" />
            </div>
            <div class="col-md-3 mb-3">
                <label class="form-label">کلاس</label>
                <select class="form-select">
                    <option value="">همه کلاس‌ها</option>
                    <option value="1">ریاضی پایه</option>
                    <option value="2">فیزیک پیشرفته</option>
                </select>
            </div>
            <div class="col-md-3 mb-3">
                <label class="form-label">وضعیت</label>
                <select class="form-select">
                    <option value="">همه وضعیت‌ها</option>
                    <option value="active">فعال</option>
                    <option value="inactive">غیرفعال</option>
                </select>
            </div>
            <div class="col-md-3 mb-3 d-flex align-items-end">
                <button class="btn btn-modern-primary w-100">
                    <i class="fas fa-search me-1"></i>جستجو
                </button>
            </div>
        </div>
    </div>
</div>

@if (Model.Any())
{
    <div class="modern-card">
        <div class="modern-card-body">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>نام و نام خانوادگی</th>
                            <th>ایمیل</th>
                            <th>کلاس</th>
                            <th>پیشرفت</th>
                            <th>آخرین فعالیت</th>
                            <th>عملیات</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="user-avatar me-3" style="width: 32px; height: 32px; font-size: 0.75rem;">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div>
                                        <div class="fw-semibold">علی احمدی</div>
                                        <small class="text-muted">دانش‌آموز</small>
                                    </div>
                                </div>
                            </td>
                            <td>ali.ahmadi@example.com</td>
                            <td>
                                <span class="badge bg-primary">ریاضی پایه</span>
                            </td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="progress flex-grow-1 me-2" style="height: 6px;">
                                        <div class="progress-bar bg-success" style="width: 75%"></div>
                                    </div>
                                    <small class="text-muted">75%</small>
                                </div>
                            </td>
                            <td>
                                <small class="text-muted">2 ساعت پیش</small>
                            </td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <button class="btn btn-outline-primary" title="مشاهده">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-outline-success" title="پیام">
                                        <i class="fas fa-message"></i>
                                    </button>
                                    <button class="btn btn-outline-warning" title="ویرایش">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="user-avatar me-3" style="width: 32px; height: 32px; font-size: 0.75rem;">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div>
                                        <div class="fw-semibold">فاطمه محمدی</div>
                                        <small class="text-muted">دانش‌آموز</small>
                                    </div>
                                </div>
                            </td>
                            <td>fateme.mohammadi@example.com</td>
                            <td>
                                <span class="badge bg-success">فیزیک پیشرفته</span>
                            </td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="progress flex-grow-1 me-2" style="height: 6px;">
                                        <div class="progress-bar bg-warning" style="width: 45%"></div>
                                    </div>
                                    <small class="text-muted">45%</small>
                                </div>
                            </td>
                            <td>
                                <small class="text-muted">1 روز پیش</small>
                            </td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <button class="btn btn-outline-primary" title="مشاهده">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-outline-success" title="پیام">
                                        <i class="fas fa-message"></i>
                                    </button>
                                    <button class="btn btn-outline-warning" title="ویرایش">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
}
else
{
    <div class="text-center py-5">
        <div class="mb-4">
            <i class="fas fa-users fa-3x text-muted"></i>
        </div>
        <h4 class="text-muted mb-3">هنوز دانش‌آموزی ندارید</h4>
        <p class="text-muted mb-4">کلاس ایجاد کنید تا دانش‌آموزان بتوانند در آن ثبت‌نام کنند.</p>
        <a asp-controller="Classes" asp-action="Create" class="btn btn-modern-primary">
            <i class="fas fa-plus me-2"></i>ایجاد کلاس جدید
        </a>
    </div>
}
