@{
    var itemType = ViewData["ItemType"]?.ToString() ?? "reminder";
    var showQuestionBlocks = ViewData["ShowQuestionBlocks"]?.ToString()?.ToLower() == "true";
    var showRegularBlocks = ViewData["ShowRegularBlocks"]?.ToString()?.ToLower() == "true";
    var questionTypeBlocks = ViewData["QuestionTypeBlocks"] as List<string> ?? new List<string>();
}

@if (showRegularBlocks)
{
    <div class="block-type-section">
        <div class="section-title">بلاک‌های محتوا</div>
        
        <div class="block-type-option" data-type="text" role="button" tabindex="0" aria-label="افزودن بلاک متن">
            <div class="option-icon">
                <i class="fas fa-font"></i>
            </div>
            <span class="option-label">متن</span>
            <small class="text-muted mt-1">محتوای متنی</small>
        </div>
        
        <div class="block-type-option" data-type="image" role="button" tabindex="0" aria-label="افزودن بلاک تصویر">
            <div class="option-icon">
                <i class="fas fa-image"></i>
            </div>
            <span class="option-label">تصویر</span>
            <small class="text-muted mt-1">عکس و تصویر</small>
        </div>
        
        <div class="block-type-option" data-type="video" role="button" tabindex="0" aria-label="افزودن بلاک ویدیو">
            <div class="option-icon">
                <i class="fas fa-video"></i>
            </div>
            <span class="option-label">ویدیو</span>
            <small class="text-muted mt-1">فیلم آموزشی</small>
        </div>
        
        <div class="block-type-option" data-type="audio" role="button" tabindex="0" aria-label="افزودن بلاک صوت">
            <div class="option-icon">
                <i class="fas fa-microphone"></i>
            </div>
            <span class="option-label">صوت</span>
            <small class="text-muted mt-1">فایل صوتی</small>
        </div>
        
        <div class="block-type-option" data-type="code" role="button" tabindex="0" aria-label="افزودن بلاک کد">
            <div class="option-icon">
                <i class="fas fa-code"></i>
            </div>
            <span class="option-label">کد</span>
            <small class="text-muted mt-1">کد برنامه‌نویسی</small>
        </div>
    </div>
}

@if (showQuestionBlocks)
{
    <div class="block-type-section">
        <div class="section-title">سوالات</div>
        
        <div class="block-type-option" data-type="questionText" role="button" tabindex="0" aria-label="افزودن سوال متنی">
            <div class="option-icon">
                <i class="fas fa-question"></i>
            </div>
            <span class="option-label">سوال متنی</span>
            <small class="text-muted mt-1">سوال با پاسخ متنی</small>
        </div>
        
        <div class="block-type-option" data-type="questionImage" role="button" tabindex="0" aria-label="افزودن سوال تصویری">
            <div class="option-icon">
                <i class="fas fa-image"></i>
            </div>
            <span class="option-label">سوال تصویری</span>
            <small class="text-muted mt-1">سوال با تصویر</small>
        </div>
        
        <div class="block-type-option" data-type="questionVideo" role="button" tabindex="0" aria-label="افزودن سوال ویدیویی">
            <div class="option-icon">
                <i class="fas fa-video"></i>
            </div>
            <span class="option-label">سوال ویدیویی</span>
            <small class="text-muted mt-1">سوال با ویدیو</small>
        </div>
        
        <div class="block-type-option" data-type="questionAudio" role="button" tabindex="0" aria-label="افزودن سوال صوتی">
            <div class="option-icon">
                <i class="fas fa-microphone"></i>
            </div>
            <span class="option-label">سوال صوتی</span>
            <small class="text-muted mt-1">سوال با فایل صوتی</small>
        </div>
    </div>
}

@if (questionTypeBlocks != null && questionTypeBlocks.Count > 0)
{
    <div class="block-type-section">
        <div class="section-title">انواع سوال</div>
        
        @if (questionTypeBlocks.Contains("multipleChoice"))
        {
            <div class="block-type-option" data-type="multipleChoice" role="button" tabindex="0" aria-label="افزودن سوال چندگزینه‌ای">
                <div class="option-icon">
                    <i class="fas fa-list-ul"></i>
                </div>
                <span class="option-label">چندگزینه‌ای</span>
                <small class="text-muted mt-1">سوال چندگزینه‌ای</small>
            </div>
        }
        
        @if (questionTypeBlocks.Contains("gapFill"))
        {
            <div class="block-type-option" data-type="gapFill" role="button" tabindex="0" aria-label="افزودن سوال جای‌خالی">
                <div class="option-icon">
                    <i class="fas fa-square"></i>
                </div>
                <span class="option-label">جای‌خالی</span>
                <small class="text-muted mt-1">تمرین جای‌خالی</small>
            </div>
        }
        
        @if (questionTypeBlocks.Contains("ordering"))
        {
            <div class="block-type-option" data-type="ordering" role="button" tabindex="0" aria-label="افزودن تمرین مرتب‌سازی">
                <div class="option-icon">
                    <i class="fas fa-sort"></i>
                </div>
                <span class="option-label">مرتب‌سازی</span>
                <small class="text-muted mt-1">مرتب کردن آیتم‌ها</small>
            </div>
        }
        
        @if (questionTypeBlocks.Contains("matching"))
        {
            <div class="block-type-option" data-type="matching" role="button" tabindex="0" aria-label="افزودن تمرین تطبیقی">
                <div class="option-icon">
                    <i class="fas fa-link"></i>
                </div>
                <span class="option-label">تطبیقی</span>
                <small class="text-muted mt-1">تطبیق آیتم‌ها</small>
            </div>
        }
        
        @if (questionTypeBlocks.Contains("errorFinding"))
        {
            <div class="block-type-option" data-type="errorFinding" role="button" tabindex="0" aria-label="افزودن تمرین پیدا کردن خطا">
                <div class="option-icon">
                    <i class="fas fa-bug"></i>
                </div>
                <span class="option-label">پیدا کردن خطا</span>
                <small class="text-muted mt-1">پیدا و اصلاح خطا</small>
            </div>
        }
    </div>
}